{% load staticfiles %}
<html>
<head>
  <title>Sensor Tracker API Specification</title>
  <script
    src="https://code.jquery.com/jquery-3.2.1.js"
    integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE="
    crossorigin="anonymous"></script>
  <link rel="stylesheet" type="text/css" href="{% static "api/vendor/semantic.min.css" %}" />
  <script src="{% static "api/vendor/semantic.min.js" %}"></script>
  <script src="{% static "api/js/script.js" %}"></script>
  <link rel="stylesheet" type="text/css" href="{% static "api/css/style.css" %}" />
</head>
<body>
  <div class="ui rail">
    <div class="ui sticky">
      <h3>API Endpoints</h3>
      <ul class="bulletless">
        {% for link in links %}
          <li><a href="#{{ link }}">{{ link }}</a></li>
        {% endfor %}
      </ul>
    </div>
  </div>
  <div class="ui container" id="content">
    <h1>Sensor Tracker API Specification</h1>
    <p>This API uses
      <a href="http://www.django-rest-framework.org/">
        The Django Rest Framework
      </a>
      for authentication on all POST insert/update operations. Both session based and token based authentication is
      supported. The token usage can be found
      <a href="http://www.django-rest-framework.org/api-guide/authentication/#tokenauthentication">
        here.
      </a> Looking for your token? Use
      <a href="/api/spec/#get_token">
        this endpoint.
      </a>
    {% for url in urls %}
      <div class="ui segment">
        <h2 id="{{ url.name }}">{{ url.method }}: <em>/api/{{ url.name }}</em></h2>
        <h3>Possible Arguments</h3>
        <table class="ui very basic collapsing celled table">
          <thead>
            <tr>
              <th>Argument</th>
              <th>Type</th>
              <th>Required</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            {% for arg in url.args %}
            <tr>
              <td>{{ arg.name }}</td>
              <td>{{ arg.type }}</td>
              <td>{{ arg.required }}</td>
              <td>{{ arg.desc}}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
        {% if url.desc %}
          <h3>Description</h3>
          <p>{{ url.desc }}</p>
        {% endif %}
      </div>
    {% endfor %}
  </div>
</body>
</html>
